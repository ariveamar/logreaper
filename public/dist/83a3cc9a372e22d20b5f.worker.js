!function(e){function a(t){if(r[t])return r[t].exports;var i=r[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}var r={};return a.m=e,a.c=r,a.p="/labs/logreaper/static/dist/",a(0)}([function(e,a,r){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var i=r(1),n=t(i);(function(){var e,a;importScripts("/labs/logreaper/static/js/lib/xregexp-all-min.js"),importScripts("/labs/logreaper/static/js/lib/stringview.js"),importScripts("/labs/logreaper/static/js/lib/moment.min.js"),importScripts("/labs/logreaper/static/js/lib/FileIdentifier.js"),importScripts("/labs/logreaper/static/js/lib/Iterator.js"),importScripts("/labs/logreaper/static/js/lib/ChunkParser.js"),a=function(e){var a,r;a=new ArrayBuffer(e.length),r=new Uint8Array(a);for(var t=0,i=e.length;i>t;t++)r[t]=e.charCodeAt(t);return a},e=!1,-1!==navigator.userAgent.indexOf("Firefox")&&parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")+8))>=3.6&&(e=!0),self.addEventListener("message",function(a){var r,t,i,s,l,o,d,f,u,c,p,g,m,h,w,v,x,b,S,y,j,A,M,k,F,C;switch(a.data.cmd){case"identify":r=a.data.file.slice||a.data.file.mozSlice||a.data.file.webkitSlice,t=1048576,y=void 0,s=new StringView(y.readAsArrayBuffer(r.call(a.data.file,0,t))),f=new logreaper.FileIdentifier(a.data.formats,XRegExp),v=f.identify(s.toString()),self.postMessage({cmd:"identificationComplete",result:v,hash:a.data.hash}),self.close();break;case"parse":return x=void 0,r=a.data.file.slice||a.data.file.mozSlice||a.data.file.webkitSlice,t=1048576,i=Math.ceil(a.data.file.size/t),o=0,m=void 0,u=a.data.identification,b=a.data.parseSeverities,A=a.data.severityField,S=[],null!=(null!=(j=u.format.value[A])?j.values:void 0)&&u.format.value[A].values.forEach(function(e){return-1===b.indexOf(e.label)?e.values.forEach(function(e){return S.push(e)}):void 0}),self.postMessage({cmd:"initialMetadata",totalChunks:i}),l=0,k=0,d=0,M=Date.now(),F=i,C=XRegExp.cache(u.format.regex[u.identifiedRegexName].pattern,"gim"),p=function(r){var t,l,d,f,c,p,g;s=new StringView(r),x=new logreaper.ChunkParser({chunk:s.toString(),moment:moment,Xreg:XRegExp,re:C,format:u.format,identification:u}),f=x.parse(),d={cmd:"parsingProgress",hash:a.data.hash,progress:o/F,linesParsed:k,chunksParsed:o},self.postMessage(d);try{return f.forEach(function(e){return null!=e&&-1===(null!=S?S.indexOf(e[A]):void 0)&&(e.fileName=decodeURIComponent(a.data.name).replace(/[\(\) ]+/g,""),null!=e&&self.postMessage({cmd:"lineParsed",hash:a.data.hash,parsedLine:(0,n["default"])(e)})),k++})}catch(l){return t=l,self.postMessage({cmd:"error",data:(0,n["default"])(a)})}finally{o++,i>o?e===!0?w():h():(self.postMessage({cmd:"parsingComplete",hash:a.data.hash}),"undefined"!=typeof window&&null!==window&&null!=(c=window.logreaper)&&(c.ChunkParser=null),"undefined"!=typeof window&&null!==window&&null!=(p=window.logreaper)&&(p.FileIdentifier=null),"undefined"!=typeof window&&null!==window&&null!=(g=window.logreaper)&&(g.Iterator=null),self.close())}},c=function(e){return cb(e)},g=function(e){return p(e.target.result)},h=function(){var e,i;return i=new FileReader,i.onload=g,i.onerror=c,M=o*t,e=M+t>=a.data.file.size?a.data.file.size:M+t,i.readAsArrayBuffer(r.call(a.data.file,M,e))},w=function(){var e,i;return i=new FileReaderSync,M=o*t,e=M+t>=a.data.file.size?a.data.file.size:M+t,p(i.readAsArrayBuffer(r.call(a.data.file,M,e)))},e?w():h();case"status":return;case"stop":return self.close()}},!1)}).call(void 0)},function(e,a,r){e.exports={"default":r(2),__esModule:!0}},function(e,a,r){var t=r(3);e.exports=function(e){return(t.JSON&&t.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},function(e,a){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)}]);